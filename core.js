// 核心功能 - 压缩版本
const translations={'zh':{'nav.works':'Works','nav.academic':'Publications','nav.about':'About','nav.news':'News','nav.shop':'Shop','nav.contact':'Contact','nav.lang':'EN','hero.title':'Creative <span class="highlight">Design</span> Studio','hero.subtitle':'平面设计 · 综合设计 · 视觉创意','hero.description':'我们专注于简约现代的设计理念，为客户提供专业的视觉解决方案','hero.viewWorks':'查看作品','hero.learnMore':'了解更多','works.title':'Works','works.subtitle':'精选作品','works.filter.all':'全部','works.filter.branding':'品牌设计','works.filter.print':'印刷作品','works.filter.digital':'数字设计','works.filter.illustration':'插画设计','works.filter.packaging':'包装设计','works.filter.web':'网页设计','works.filter.photography':'摄影作品','news.title':'News','news.subtitle':'最新动态与故事','news.readMore':'阅读更多','contact.title':'Contact','contact.description':'如果您对我们的设计服务感兴趣，欢迎联系我们进行合作洽谈。','contact.form.name':'姓名','contact.form.email':'邮箱','contact.form.subject':'主题','contact.form.message':'消息','contact.form.send':'发送消息','academic.title':'学术发表','filter.all':'全部','filter.journal':'期刊论文','filter.conference':'会议论文','filter.book':'专著','filter.chapter':'章节','shop.filter.all':'全部','shop.filter.prints':'艺术海报','shop.filter.stationery':'文具用品','shop.filter.books':'设计书籍','shop.filter.accessories':'配饰用品','shop.filter.digital':'数字产品','shop.status.new':'新品','shop.status.sale':'特价','footer.copyright':'© 2024 islandJQ  DESIGN  STUDIO. All rights reserved.'},'en':{'nav.works':'Works','nav.academic':'Publications','nav.about':'About','nav.news':'News','nav.shop':'Shop','nav.contact':'Contact','nav.lang':'中','hero.title':'Creative <span class="highlight">Design</span> Studio','hero.subtitle':'Graphic Design · Integrated Design · Visual Creativity','hero.description':'We focus on minimalist modern design concepts to provide professional visual solutions for clients','hero.viewWorks':'View Works','hero.learnMore':'Learn More','works.title':'Works','works.subtitle':'Selected Projects','works.filter.all':'All','works.filter.branding':'Branding','works.filter.print':'Print','works.filter.digital':'Digital','works.filter.illustration':'Illustration','works.filter.packaging':'Packaging','works.filter.web':'Web','works.filter.photography':'Photography','news.title':'News','news.subtitle':'Latest Updates & Stories','news.readMore':'Read More','contact.title':'Contact','contact.description':'If you are interested in our design services, please feel free to contact us for cooperation.','contact.form.name':'Name','contact.form.email':'Email','contact.form.subject':'Subject','contact.form.message':'Message','contact.form.send':'Send Message','academic.title':'Publications','filter.all':'All','filter.journal':'Journal Papers','filter.conference':'Conference Papers','filter.book':'Books','filter.chapter':'Chapters','shop.filter.all':'All','shop.filter.prints':'Art Prints','shop.filter.stationery':'Stationery','shop.filter.books':'Books','shop.filter.accessories':'Accessories','shop.filter.digital':'Digital','shop.status.new':'New','shop.status.sale':'Sale','footer.copyright':'© 2024 islandJQ  DESIGN  STUDIO. All rights reserved.'}};

class LanguageManager{constructor(){this.currentLang=localStorage.getItem('language')||'zh';this.translations=translations;this.initialized=false}getCurrentLang(){return this.currentLang}toggleLanguage(){this.currentLang=this.currentLang==='zh'?'en':'zh';localStorage.setItem('language',this.currentLang);this.updatePageContent();window.dispatchEvent(new CustomEvent('languageChanged',{detail:{language:this.currentLang}}))}translate(key){return this.translations[this.currentLang][key]||key}updatePageContent(){document.querySelectorAll('[data-translate]').forEach(element=>{const key=element.getAttribute('data-translate');const translation=this.translate(key);if(translation.includes('<')){element.innerHTML=translation}else{element.textContent=translation}});const langSwitch=document.getElementById('lang-switch');if(langSwitch){langSwitch.textContent=this.translate('nav.lang')}document.documentElement.lang=this.currentLang;window.dispatchEvent(new CustomEvent('languageChanged',{detail:{language:this.currentLang}}))}init(){this.updatePageContent();const langSwitch=document.getElementById('lang-switch');if(langSwitch){langSwitch.addEventListener('click',(e)=>{e.preventDefault();this.toggleLanguage()})}this.initialized=true}}

window.languageManager=new LanguageManager();

// 导航功能
document.addEventListener('DOMContentLoaded',function(){window.languageManager.init();const navToggle=document.getElementById('nav-toggle');const navMenu=document.getElementById('nav-menu');if(navToggle&&navMenu){navToggle.addEventListener('click',function(){navMenu.classList.toggle('active');navToggle.classList.toggle('active')})}});